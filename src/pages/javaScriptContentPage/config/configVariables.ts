import { type ITopic } from '@/entities/topic';

export const configVariables: ITopic = {
  value: 'variables',
  title: 'Переменные',
  content: {
    introduction:
      'JavaScript предоставляет три способа объявления переменных: let, const и var. Каждый имеет свои особенности.',
    sections: [
      {
        title: 'let',
        content:
          'let — ключевое слово для объявления переменной, введённое в ECMAScript 6 (2015).',
        addition:
          '• Блочная область видимости\n' +
          '• Нельзя повторно объявить в той же области видимости\n' +
          '• Можно изменять значение\n' +
          '• Нельзя использовать до объявления (ReferenceError из-за TDZ — временной мёртвой зоны, периода от входа в область видимости до фактической инициализации переменной)\n' +
          '• При объявлении без значения получает undefined',
        examples:
          '// Блочная область видимости\nif (true) {\n  let b = 10;\n  console.log(b); // 10\n}\nconsole.log(b); // Ошибка! b не видна снаружи\n\n' +
          '// Нельзя повторно объявить\nlet x = 1;\nlet x = 2; // Ошибка!\n\n' +
          '// Можно изменить значение\nlet y = 20;\ny = 50;\nconsole.log(y); // 50\n\n' +
          '// TDZ — нельзя использовать до объявления\nconsole.log(z); // Ошибка!\nlet z = 30;\n\n' +
          '// Без инициализации = undefined\nlet notInit;\nconsole.log(notInit); // undefined',
      },
      {
        title: 'const',
        content:
          'const — ключевое слово для объявления константы, введённое в ECMAScript 6 (2015).',
        addition:
          '• Блочная область видимости\n' +
          '• Нельзя повторно объявить в той же области видимости\n' +
          '• Нельзя переприсвоить значение, но можно изменять содержимое объектов и массивов (ссылка на объект/массив остаётся той же, а содержимое меняется)\n' +
          '• Нельзя использовать до объявления (ReferenceError из-за TDZ — временной мёртвой зоны, периода от входа в область видимости до фактической инициализации)\n' +
          '• Обязательно должна быть инициализирована при объявлении',
        examples:
          '// Блочная область видимости\nif (true) {\n  const b = 10;\n  console.log(b); // 10\n}\nconsole.log(b); // Ошибка! b не видна снаружи\n\n' +
          '// Нельзя повторно объявить\nconst x = 1;\nconst x = 2; // Ошибка!\n\n' +
          '// Нельзя переприсвоить значение\nconst y = 20;\ny = 50; // Ошибка!\n\n' +
          '// Для объектов — нельзя переприсвоить, но можно изменять содержимое\nconst user = { name: "Иван" };\nuser.name = "Пётр"; // Можно!\nconsole.log(user.name); // "Пётр"\nuser = { name: "Анна" }; // Ошибка!\n\n' +
          '// Для массивов — нельзя переприсвоить, но можно изменять содержимое\nconst numbers = [1, 2, 3];\nnumbers.push(4); // Можно!\nconsole.log(numbers); // [1, 2, 3, 4]\nnumbers = [5, 6, 7]; // Ошибка!\n\n' +
          '// TDZ — нельзя использовать до объявления\nconsole.log(z); // Ошибка!\nconst z = 30;\n\n' +
          '// Обязательна инициализация\nconst notInit; // Ошибка!',
      },
      {
        title: 'var',
        content:
          'var — ключевое слово для объявления переменной, использовавшееся до появления let и const.',
        addition:
          '• Функциональная область видимости (или глобальная, если объявлена вне функции)\n' +
          '• Можно повторно объявить в той же области видимости\n' +
          '• Можно изменять значение\n' +
          '• Поднимается (hoisting) — объявление перемещается в начало области видимости, переменная инициализируется значением undefined\n' +
          '• Можно использовать до объявления (значение undefined)\n' +
          '• При объявлении без значения получает undefined\n' +
          '• В глобальной области видимости создаёт свойство глобального объекта (window/global)\n',
        examples:
          '// Функциональная область видимости\nfunction test() {\n  var a = 10;\n  console.log(a); // 10\n}\ntest();\nconsole.log(a); // Ошибка! a не видна снаружи функции\n\n' +
          '// Отсутствие блочной области видимости\nif (true) {\n  var b = 20;\n}\nconsole.log(b); // 20 (доступна и снаружи блока!)\n\n' +
          '// Можно повторно объявить\nvar x = 1;\nvar x = 2; // Работает!\nconsole.log(x); // 2\n\n' +
          '// Можно изменить значение\nvar y = 20;\ny = 50;\nconsole.log(y); // 50\n\n' +
          '// Hoisting — можно использовать до объявления\nconsole.log(z); // undefined\nvar z = 30;\n\n' +
          '// Без инициализации = undefined\nvar notInit;\nconsole.log(notInit); // undefined\n\n' +
          '// Создаёт свойство в глобальном объекте\nvar globalVar = "test";\nconsole.log(window.globalVar); // "test"',
      },
    ],
  },
};
