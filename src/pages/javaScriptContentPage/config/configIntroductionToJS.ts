import { type ITopic } from '@/entities/topic';

export const configIntroductionToJS: ITopic = {
  value: 'javascript-introduction',
  name: 'Введение в JavaScript',
  content: {
    introduction:
      'JavaScript — это высокоуровневый, динамически типизированный, слабо типизированный, однопоточный, встраиваемый, интерпретируемый и мультипарадигменный язык программирования.',
    sections: [
      {
        title: 'Высокоуровневый:',
        content:
          'JavaScript представляет высокий уровень абстракции (т.е. скрытия сложности низкоуровневых деталей) благодаря удобным конструкциям, таким как массивы, объекты, функции, классы и других. Управление памятью осуществляется автоматически с помощью сборщика мусора (garbage collector), что освобождает разработчиков от необходимости ручного управления памятью.',
        addition:
          'Сборщик мусора использует алгоритм "Mark-and-Sweep": помечает все достижимые объекты, затем удаляет недостижимые.',
        examples:
          '// Пример работы сборщика мусора\nfunction createUser() {\n  const user = { name: "John", age: 30 }; // 1. Объект создается\n  return user; // 2. Ссылка на объект возвращается\n}\n\nlet userRef = createUser(); // 3. userRef ссылается на объект\n\nuserRef = null; // 4. Ссылка удаляется - объект становится недостижимым\n// Теперь сборщик мусора может удалить объект {name: "John", age: 30}',
      },
      {
        title: 'Динамически типизированный:',
        content:
          'В JavaScript тип переменной определяется во время выполнения программы и может меняться в процессе работы. Не требуется явно указывать тип переменной при ее объявлении.',
        addition:
          'Это повышает гибкость, но делает код менее предсказуемым, так как некоторые ошибки обнаруживаются только во время выполнения.',
        examples:
          'let value = 42;\nconsole.log(typeof value); // "number"\n\nvalue = "Hello";\nconsole.log(typeof value); // "string"\n\nvalue = true;\nconsole.log(typeof value); // "boolean"',
      },
      {
        title: 'Слабо типизированный:',
        content:
          'JavaScript позволяет выполнять автоматическое приведение типов. Это означает, что значения разных типов могут быть использованы вместе, и язык автоматически приводит их к подходящему типу.',
        addition: 'Рекомендуется явно контролировать типы данных.',
        examples:
          '// Автоматическое приведение типов\nconsole.log(5 + "5"); // "55" (число преобразуется в строку)\nconsole.log("10" - 5); // 5 (строка преобразуется в число)\nconsole.log(5 == "5"); // true (нестрогое сравнение с преобразованием)\nconsole.log(5 === "5"); // false (строгое сравнение без преобразования)',
      },
      {
        title: 'Однопоточный:',
        content:
          'JavaScript использует однопоточную модель, где операции выполняются последовательно. Однако через механизм Event Loop и асинхронные API язык может обеспечить неблокирующую обработку параллельных операций.',
        addition:
          'Event Loop управляет выполнением через очереди: Task Queue (макрозадачи) и Microtask Queue (микрозадачи). Веб-воркеры (Web Workers) позволяют выполнять код в отдельных потоках, не нарушая основную однопоточную модель.',
        examples:
          "// Демонстрация порядка выполнения\nconsole.log('1. Синхронный код');\n\nsetTimeout(() => {\n  console.log('4. Макрозадача (setTimeout)');\n}, 0);\n\nPromise.resolve()\n  .then(() => {\n    console.log('3. Микрозадача (Promise)');\n  });\n\nconsole.log('2. Синхронный код');\n\n// Порядок вывода:\n// 1. Синхронный код\n// 2. Синхронный код\n// 3. Микрозадача (Promise)\n// 4. Макрозадача (setTimeout)",
      },
      {
        title: 'Встраиваемый:',
        content:
          'JavaScript не существует в изоляции — он всегда выполняется внутри host-среды (браузер, Node.js). Среда предоставляет специфичные API (DOM, fetch, http) для взаимодействия с внешним миром, которых нет в самом языке. Сам код исполняется движком JavaScript (V8, SpiderMonkey), встроенным в эту среду.',
        addition:
          'Стандарт ECMAScript регламентирует базовые механизмы языка, а host-среда расширяет его возможностями для конкретной платформы. Это позволяет писать логику на одном языке и выполнять её в разнообразных экосистемах.',
        examples:
          '// В браузере\nconsole.log(window); // объект глобального окна\nconsole.log(document); // DOM API\n\n// В Node.js\nconsole.log(process); // объект процесса Node.js\nconsole.log(__dirname); // путь к текущей директории\n\n// API могут отличаться в зависимости от среды',
      },
      {
        title: 'Интерпретируемый:',
        content:
          'JavaScript код выполняется построчно, без предварительной компиляции в машинный код. Движок читает исходный код, преобразует его в промежуточное представление и выполняет. Современные движки используют JIT-компиляцию.',
        addition:
          'JIT-компиляция (Just-In-Time) — это современный подход, который сочетает преимущества интерпретации и компиляции: код сначала интерпретируется, а часто выполняемые фрагменты кода компилируются в машинный код для ускорения выполнения.',
        examples:
          '// Интерпретатор читает и выполняет код построчно\nfunction calculate(a, b) {\n  return a + b; // 1. Интерпретируется\n}\n\nconst result = calculate(5, 3); // 2. Вызывается\nconsole.log(result); // 3. Выводится\n\n// После нескольких вызовов JIT-компилятор может оптимизировать функцию\n// и скомпилировать её в машинный код для ускорения последующих вызовов',
      },
      {
        title: 'Мультипарадигменный:',
        content:
          'JavaScript поддерживает несколько парадигм программирования: императивную (структурную), объектно-ориентированную (ООП) и функциональную (ФП). Парадигмы могут комбинироваться в рамках одного приложения.',
        addition:
          'Императивный подход — описание последовательности инструкций, явно указывающих, как выполнить задачу. ООП —  организация кода вокруг объектов (классы, прототипы). Функциональный — акцент на функциях как основных строительных блоках.',
        examples:
          '// Императивный стиль (как сделать)\nlet result = [];\nfor (let i = 0; i < numbers.length; i++) {\n  if (numbers[i] > 5) {\n    result.push(numbers[i]);\n  }\n}\n\n// Функциональный стиль (что сделать)\nconst filtered = numbers.filter(n => n > 5);\nconst sum = numbers.reduce((acc, n) => acc + n, 0);\n\n// ООП (классы)\nclass User {\n  constructor(name) {\n    this.name = name;\n  }\n  greet() {\n    return `Hello, ${this.name}!`;\n  }\n}\n// ООП (прототипы)\nconst animal = { eats: true };\nconst rabbit = Object.create(animal);\nrabbit.jumps = true;',
      },
    ],
  },
};
